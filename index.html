<!DOCTYPE html>
<html manifest="./PSFree.manifest" lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>بليغ ستور 2 - Baleegh Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    
    <script>
        // كود الكاش التلقائي مع شريط التقدم المرئي المتوافق مع التصميم
        function DLProgress(e){
            if(e.total > 0){
                var Percent=(Math.round(e.loaded / e.total * 100));
                document.getElementById('cache-status').style.display = 'block';
                document.getElementById('cache-bar').style.width = Percent + '%';
                document.getElementById('cache-text').innerHTML = "جاري تثبيت الصفحة للعمل أوفلاين: " + Percent + "%";
                document.title="Installing offline cache: " + Percent + "%";
            }
        }
        function DisplayCacheProgress(){
            document.getElementById('cache-text').innerHTML = "تم التثبيت بنجاح! أغلق المتصفح وافصل الإنترنت.";
            document.getElementById('cache-bar').style.width = '100%';
            document.title="Cache Success !";
            setTimeout(function(){ document.getElementById('cache-status').style.display = 'none'; }, 4000);
            setTimeout(function(){ window.location.href = document.referrer; }, 4000);
        }
        window.applicationCache.addEventListener("progress",DLProgress,false);
        window.applicationCache.oncached=function(e){DisplayCacheProgress();};
        window.applicationCache.onupdateready=function(e){DisplayCacheProgress();};
    </script>

    <style>
        /* --- الهوية البصرية لبليغ ستور 2 --- */
        :root {
            --dark-navy: #070f1b;
            --electric-blue: #00adef;
            --btn-border: #1fa9dc;
            --panel-bg: rgba(10, 20, 35, 0.9);
        }
        
        body {
            background: radial-gradient(ellipse at top, #14263d 0%, #070f1b 100%);
            min-height: 100vh; width: 100vw; color: #fff;
            margin: 0; padding: 0; box-sizing: border-box;
            font-family: 'Cairo', Arial, sans-serif;
            overflow-x: hidden; position: relative;
        }

        /* شريط التنزيل */
        #cache-status { display: none; position: fixed; top: 0; width: 100%; background: rgba(0,0,0,0.9); z-index: 9999; text-align: center; padding: 10px 0; border-bottom: 2px solid var(--electric-blue); font-weight: 700; }
        #cache-bar { height: 4px; background: var(--electric-blue); width: 0%; transition: width 0.3s; position: absolute; bottom: 0; box-shadow: 0 0 10px var(--electric-blue); }

        /* العلامة المائية BS */
        .bg-logo-watermark {
            position: fixed; top: 57%; left: 51%; transform: translate(-50%, -50%);
            font-size: 44vw; font-weight: 900; color: var(--electric-blue);
            opacity: 0.04; z-index: 0; font-style: italic; pointer-events: none; user-select: none; letter-spacing:-2vw;
        }

        /* القائمة الجانبية الأصلية بتصميم عصري */
        .floating-menu { position: fixed; right: 30px; top: 22vh; z-index: 100; display: flex; flex-direction: column; gap: 20px; min-width: 170px; }
        .menu-btn {
            font-family: 'Cairo', sans-serif; background: transparent; border: 2px solid var(--btn-border);
            color: #fff; padding: 15px 0; border-radius: 12px; font-size: 1.1em; font-weight: 700;
            cursor: pointer; transition: 0.2s; text-shadow: 0 1px 5px #003;
        }
        .menu-btn:hover { background: var(--btn-border); color: #001d31; box-shadow: 0 2px 16px #00adef40; transform: translateX(-5px); }

        /* العنوان */
        .header { margin-top: 60px; text-align: center; position: relative; z-index: 2; }
        .header-title { font-size: 3.8em; font-weight: 900; color: #fff; text-shadow: 0 0 28px var(--electric-blue); margin: 0; letter-spacing: 2px; }
        .header-subtitle { font-size: 1.4em; color: var(--electric-blue); font-weight: 600; letter-spacing: 7px; margin-top: -5px; }

        #update-results { text-align: center; color: yellow; font-weight: bold; font-family: monospace; direction: ltr; margin-top: 15px; }
        
        #PS4FW {
            background: rgba(8,60,90, 0.8); padding: 10px 40px; border-radius: 14px;
            margin: 15px auto 25px auto; font-size: 1.2em; color: #15c6f3; font-weight: 900;
            border: 1px solid #064468; width: fit-content; box-shadow: 0 2px 11px #04385f36; direction: ltr;
        }

        /* زر التفعيل الرئيسي */
        .center-btn-wrap { display: flex; justify-content: center; align-items: center; position: relative; z-index: 10; }
        .ps-btn {
            width: 190px; height: 190px; border-radius: 50%; background: rgba(10,26,50,0.85);
            border: 4px solid var(--electric-blue); display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; box-shadow: 0 4px 40px rgba(0, 173, 239, 0.15); margin-bottom: 20px;
        }
        .ps-btn svg { width: 90px; fill: var(--electric-blue); filter: drop-shadow(0 2px 15px rgba(0, 173, 239, 0.6)); transition: 0.2s; }
        .ps-btn:hover { background: #066798c7; border-color: #fff; box-shadow: 0 6px 40px rgba(0, 173, 239, 0.5); transform: scale(1.05); }
        .ps-btn:hover svg { fill: #fff; }

        /* لودر التفعيل */
        .loader { display: none; margin: 20px auto; text-align: center; }
        .loader-circle { border: 5px solid rgba(0, 173, 239, 0.2); border-top: 5px solid var(--electric-blue); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* منطقة البايلودات (تصميم شبكي احترافي) */
        #payloads-page { display: none; width: 85%; max-width: 1200px; margin: 0 auto; position: relative; z-index: 10; background: rgba(0,0,0,0.3); padding: 30px; border-radius: 20px; border: 1px solid rgba(0,173,239,0.2); margin-bottom: 100px; }
        .floating-menu-payloads { display: flex; justify-content: center; gap: 15px; margin-bottom: 25px; border-bottom: 1px solid rgba(0,173,239,0.3); padding-bottom: 15px; }
        .floating-menu-payloads button { background: transparent; color: #fff; border: none; font-size: 1.2em; font-family: 'Cairo'; font-weight: 700; cursor: pointer; transition: 0.3s; padding: 5px 20px; }
        .floating-menu-payloads button:hover { color: var(--electric-blue); text-shadow: 0 0 10px var(--electric-blue); }
        
        .button-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }
        .button-container h2 { grid-column: 1 / -1; color: var(--electric-blue); text-align: center; font-size: 1.3em; margin: 10px 0; border-bottom: 1px dotted var(--electric-blue); padding-bottom: 5px; }
        .button-container button { background: var(--panel-bg); border: 1px solid var(--btn-border); color: #fff; padding: 12px; border-radius: 8px; font-family: 'Cairo'; font-weight: 600; cursor: pointer; transition: 0.2s; font-size: 1em; direction: ltr; }
        .button-container button:hover { background: var(--electric-blue); color: #000; box-shadow: 0 0 15px var(--electric-blue); transform: translateY(-3px); }

        /* كونسول التصحيح */
        #DebugConsole { display: none; width: 80%; max-width: 800px; margin: 20px auto; background: rgba(0,0,0,0.8); border: 1px solid #333; border-radius: 10px; direction: ltr; text-align: left; }
        #DebugConsole h3 { color: var(--electric-blue); margin: 0; padding: 10px; border-bottom: 1px solid #333; font-size: 1em; }
        .console { padding: 15px; max-height: 200px; overflow-y: auto; color: #0f0; font-family: monospace; font-size: 0.9em; }

        /* الفوتر */
        .footer-address { background: rgba(5, 10, 20, 0.98); border-top: 2px solid var(--btn-border); padding: 18px 0; text-align: center; width: 100vw; position: fixed; bottom: 0; z-index: 900; box-shadow: 0 6px 80px rgba(0,173,239,0.15) inset; }
        .footer-text { margin: 0; font-size: 1.1em; font-weight: 600; letter-spacing: 1px; }

        /* النوافذ المنبثقة (Popups) - مصممة لاحتواء العناصر الأصلية */
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1500; backdrop-filter: blur(5px); }
        .popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #0a1422; padding: 30px; border-radius: 15px; border: 1px solid var(--electric-blue); z-index: 2000; width: 85%; max-width: 500px; text-align: center; box-shadow: 0 0 40px rgba(0,0,0,0.8); }
        .popup h2 { color: var(--electric-blue); margin-top: 0; border-bottom: 1px solid rgba(0,173,239,0.3); padding-bottom: 10px; }
        .close-btn { margin-top: 20px; background: #e63946; color: white; border: none; padding: 8px 25px; border-radius: 8px; font-family: 'Cairo'; font-weight: 700; cursor: pointer; font-size: 1em; }
        .close-btn:after { content: "إغلاق"; }
        
        /* تنسيقات خاصة بنافذة الإعدادات الأصلية */
        .settings-container { margin: 15px 0; text-align: right; direction: rtl; }
        .settings-container h3 { font-size: 1.1em; color: #fff; margin-bottom: 10px; }
        #listfw { display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; direction: ltr; margin-bottom: 15px; }
        #listfw p { background: rgba(0,173,239,0.2); padding: 5px 10px; margin: 0; border-radius: 5px; font-size: 0.9em; border: 1px solid var(--electric-blue); }
        .radio-group { display: flex; justify-content: center; gap: 20px; margin-bottom: 15px; direction: ltr; }
        .radio-group label, .settings-container label { cursor: pointer; font-size: 1em; font-weight: 600; display: inline-flex; align-items: center; gap: 8px; margin-bottom: 10px; }
        
        /* نافذة About */
        .credits-container { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 10px; direction: ltr; }
        .credits-container a { color: var(--electric-blue); text-decoration: none; background: rgba(255,255,255,0.05); padding: 5px 10px; border-radius: 5px; font-size: 0.9em; border: 1px solid rgba(0,173,239,0.3); }
        .credits-container a:hover { background: var(--electric-blue); color: #000; }

        @media (max-width: 768px) {
            .header-title { font-size: 2.5em; }
            .floating-menu { top: auto; bottom: 80px; right: 10px; flex-direction: row; flex-wrap: wrap; justify-content: center; left: 10px; min-width: auto; background: rgba(0,0,0,0.8); padding: 10px; border-radius: 15px; }
            .menu-btn { width: auto; font-size: 0.9em; padding: 8px 12px; }
            #jailbreak-page { margin-bottom: 150px; }
        }
    </style>
</head>
<body>

    <div id="cache-status">
        <div id="cache-text">جاري فحص الملفات...</div>
        <div id="cache-bar"></div>
    </div>

    <div class="bg-logo-watermark">BS</div>

    <div class="floating-menu">
        <button onclick="showpayloads()" class="menu-btn" id="payloadsbtn">البايلودات</button>
        <button class="menu-btn" id="generate-cache-btn">تحديث الكاش</button>
        <button class="menu-btn" id="update-exploit">تحديث الثغرة</button>
        <button onclick="showsettings()" class="menu-btn" id="settings-btn">الإعدادات</button>
        <button onclick="showabout()" class="menu-btn" id="about-btn">حول المتجر</button>
    </div>

    <div class="header">
        <div class="header-title" id="header-title">بليغ ستور 2</div>
        <div class="header-subtitle">BALIGH STORE</div>
    </div>

    <pre id="update-results"></pre>

    <h2 id="PS4FW">PS4 FW: 0.00 | Ready</h2>

    <div id="jailbreak-page">
        <div class="center-btn-wrap">
            <button id="jailbreak" class="ps-btn" title="PlayStation">
                <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.69116 21.9548C-0.506476 22.7935 -0.284724 24.2384 2.44769 25.1419C5.18011 26.0455 8.35603 26.2323 11.1505 25.729C11.0707 25.729 11.3102 25.729 11.1505 25.729V22.8774L8.43588 23.8C7.39792 24.1355 6.35997 24.2194 5.32202 23.9677C4.5236 23.7161 4.68328 23.2129 5.64139 22.7935L11.1505 20.7806V17.6774L3.48565 20.4452C2.52754 20.7806 1.56943 21.2839 0.69116 21.9548ZM19.2146 9.37419V17.5097C22.4881 19.1871 25.0431 17.5097 25.0431 13.1484C25.0431 8.70323 23.5261 6.69032 19.1348 5.09677C16.8193 4.25806 14.4241 3.50323 12.0288 3V27.2387L17.6178 29V8.61935C17.6178 7.69677 17.6178 7.02581 18.2565 7.27742C19.1348 7.52903 19.2146 8.45161 19.2146 9.37419ZM29.5941 20.0258C27.2787 19.1871 24.8036 18.8516 22.4083 19.1032C21.0779 19.1906 19.8294 19.5869 18.5759 20.0258V23.2968L23.7656 21.2839C24.8036 20.9484 25.8415 20.8645 26.8795 21.1161C27.6779 21.3677 27.5182 21.871 26.5601 22.2903L18.5759 25.3935V28.5806L29.5941 24.3032C30.3925 23.9677 31.1111 23.5484 31.7499 22.8774C32.3088 22.0387 32.0692 20.8645 29.5941 20.0258Z"></path></svg>
            </button>
        </div>
        <div class="loader" id="loader" style="display: none;">
            <div class="loader-circle"></div>
        </div>
    </div>
    
    <div id="payloads-page" style="display: none;">
        <nav class="floating-menu-payloads">
            <button id="toolb" onclick="showtoolspayloads()">Tools</button>
            <button id="gameb" onclick="showgamepayloads()">Games</button>
            <button style="display: none;" id="linuxb" onclick="showlinuxpayloads()">Linux</button>
        </nav>
        
        <div id="payloads-tools" style="display: block;">
            <h2 id="tools">Tools</h2>
            <div class="button-container" id="button-container">
                <button id="binloader">Bin-Loader</button>
                <button data-func="load_AppDumper">App-Dumper</button>
                <button data-func="load_KernelDumper">Kernel-Dumper</button>
                <button data-func="load_VTXDumper">PS4-Dumper-VTX</button>
                <button data-func="load_App2USB">App2USB</button>
                <button data-func="load_DisableUpdates">Disable-Updates</button>
                <button data-func="load_EnableUpdates">Enable-Updates</button>
                <button data-func="load_FTP">FTP</button>
                <button data-func="load_HistoryBlocker">History-Blocker</button>
                <button data-func="load_KernelClock">Kernel-Clock</button>
                <button data-func="load_PS4Debug">PS4-Debug</button>
                <button data-func="load_ToDex">ToDex</button>
                <button data-func="load_ToDev">ToDev</button>
                <button data-func="load_ToKratos">ToKratos</button>
                <button data-func="load_ToCex">ToCex</button>
                <button data-func="load_BackupDB">Backup-DB</button>
                <button data-func="load_RestoreDB">Restore-DB</button>
                <button data-func="load_RIFRenamer">RIF-Renamer</button>
                <button data-func="load_ExitIDU">ExitIDU</button>
                <button data-func="load_DisableASLR">Disable-ASLR</button>
                <button data-func="load_ModuleDumper">Module-Dumper</button>
                <button data-func="load_PermanentUART">Permanent-UART</button>
                <button data-func="load_PUPDecrypt">PUP-Decrypt</button>
            </div>
        </div>
        
        <div id="payloads-game" style="display: none;">
            <h2 id="tools">Game</h2>
            <div class="button-container" id="button-container">
                <button data-func="load_GTAArbic">GTAV-ArabicGuy-1.27</button>
                <button data-func="load_GTAArbic3">GTAV-ArabicGuy-1.32</button>
                <button data-func="load_GTAArbic33">GTAV-ArabicGuy-1.33</button>
                <button data-func="load_GTABQ133">GTAV-BeefQueefMod-1.33</button>
                <button data-func="load_GTABQ134">GTAV-BeefQueefMod-1.34</button>
                <button data-func="load_GTABQ138">GTAV-BeefQueefMod-1.38</button>
                <button data-func="load_GTAWM132">GTAV-WildeModz-1.32</button>
                <button data-func="load_GTAWM133">GTAV-WildeModz-1.33</button>
                <button data-func="load_GTAWM138">GTAV-WildeModz-1.38</button>
                <button data-func="load_Oysters100">RDR2-OystersMenu-1.00</button>
                <button data-func="load_Oysters113">RDR2-OystersMenu-1.13</button>
                <button data-func="load_Oysters119">RDR2-OystersMenu-1.19</button>
                <button data-func="load_Oysters124">RDR2-OystersMenu-1.24</button>
                <button data-func="load_Oysters124">RDR2-OystersMenu-1.29</button>
            </div>
        </div>
        
        <div id="payloads-linux" style="display: none;">
            <h2 id="tools">Linux</h2>
            <div class="button-container" id="button-container">
                <h2>PS4</h2>
                <button data-func="load_Linux">1GBVram</button>
                <button data-func="load_Linux2gb">2GBVram</button>
                <button data-func="load_Linux3gb">3GBVram</button>
                <button data-func="load_Linux4gb">4GBVram</button>
                <h2>PS4-PRO</h2>
                <button data-func="load_Linux_PRO">1GBVram</button>
                <button data-func="load_Linux2gb_PRO">2GBVram</button>
                <button data-func="load_Linux3gb_PRO">3GBVram</button>
                <button data-func="load_Linux4gb_PRO">4GBVram</button>
                <h2>PS4-Baikal</h2>
                <button data-func="load_Linux_Baikal">1GBVram</button>
                <button data-func="load_Linux2gb_Baikal">2GBVram</button>
                <button data-func="load_Linux3gb_Baikal">3GBVram</button>
                <button data-func="load_Linux4gb_Baikal">4GBVram</button>
                <h2>PS4-Baikal-PRO</h2>
                <button data-func="load_Linux_PRO_Baikal">1GBVram</button>
                <button data-func="load_Linux2gb_PRO_Baikal">2GBVram</button>
                <button data-func="load_Linux3gb_PRO_Baikal">3GBVram</button>
                <button data-func="load_Linux4gb_PRO_Baikal">4GBVram</button>
            </div>
        </div>
    </div>
    
    <div id="DebugConsole">
        <h3>Debug Console</h3>
        <div class="console"><pre id='console'></pre></div>
    </div>
    
    <div class="overlay" id="overlay-popup"></div>
    <div class="popup" id="about-popup">
        <h2>بليغ ستور 2</h2>
        <div>
            <p style="font-weight: bold; font-size: 1.1em;">أفضل واجهة بلايستيشن 4 في اليمن</p>
            <p>Version: 1.5.1</p>
        </div>
        <div class="credits">
            <h3 style="color: var(--electric-blue); font-size: 1.1em;">Credits</h3>
            <div class="credits-container">
                <a href="https://github.com/Al-Azif" target="_blank">Al-Azif</a>
                <a href="https://github.com/kmeps4" target="_blank">kmeps4</a>
                <a href="https://github.com/GoldHEN" target="_blank">GoldHEN</a>
                <a href="https://github.com/Scene-Collective" target="_blank">Scene-Collective</a>
                <a href="https://github.com/ps4boot" target="_blank">ps4boot</a>
                <a href="https://github.com/SiSTR0" target="_blank">SiSTR0</a>
                <a href="https://github.com/EchoStretch" target="_blank">EchoStretch</a>
                <a href="https://github.com/Nazky" target="_blank">Nazky</a>
            </div>
        </div>
        <button onclick="closeabout()" class="close-btn" id="close-about"></button>
    </div>

    <div class="popup" id="settings-popup">
        <h2>الإعدادات</h2>
        <div class="main-container">
            <div class="listfw-container">
                <div class="settings-container">
                    <h3 style="text-align: center;">PS4 Firmwares supported</h3>
                    <div id="listfw">
                        <p>7.00</p><p>7.01</p><p>7.02</p><p>7.50</p><p>7.51</p><p>7.55</p>
                        <p>8.00</p><p>8.01</p><p>8.03</p><p>8.50</p><p>8.52</p>
                        <p>9.00</p><p>9.03</p><p>9.04</p><p>9.50</p><p>9.51</p><p>9.60</p>
                    </div>
                </div>
            </div>
            
            <div class="choosejb-container">
                <div class="settings-container" style="text-align: center;">
                    <h3>Choose your flavor</h3>
                    <div class="radio-group">
                        <label><input type="radio" name="hen" value="GoldHEN" onchange="savejbflavor(); choosejb('GoldHEN')"> GoldHEN</label>
                        <label><input type="radio" name="hen" value="HEN" onchange="savejbflavor(); choosejb('HEN')"> HEN</label>
                    </div>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                        <label><input type="checkbox" id="ckbaj" /> <span>Auto-Jailbreak</span></label>
                        <label><input type="checkbox" id="ckbdc" checked /> <span>Enable Debug Console</span></label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="button-container" style="display: flex; justify-content: center; margin-top: 15px;">
            <button data-func="load_PSFreeFix" class="install-psfrf" id="install-psfrf" style="display: none; background: #ff4d4d; color: white;">Install PSFree-Fix</button>
        </div>
        <button onclick="closesettings()" class="close-btn" id="close-settings"></button>
    </div>

    <footer class="footer-address">
        <p class="footer-text">
            صنعاء - شارع الخمسين - بيت بوس - خلف كافتيريا ركن الأحلام - جوار سوبر ماركت الصخرة
        </p>
    </footer>

    <script src='./js/index.js'></script>
</body>
</html>
